"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSpawnParameterArray = exports.getParameterString = void 0;
/**
 * Transforms an object of parameters into a string.
 * @param parameters Parameters to transform into CLI arguments
 * @returns Parameter string to be appended to CLI command
 */
function getParameterString(parameters) {
    return Object.entries(parameters).reduce((acc, [flag, value]) => {
        if (typeof value === 'boolean' || !value) {
            if (value) {
                return acc + `--${flag} `;
            }
            else {
                return acc;
            }
        }
        else {
            return acc + `--${flag} ${value} `;
        }
    }, '');
}
exports.getParameterString = getParameterString;
/**
 * Transforms an object of parameters into an array of strings with key followed by the corresponding value.
 * @param parameters Parameters to transform into CLI arguments
 * @returns Parameter string to be appended to CLI command
 */
function getSpawnParameterArray(parameters) {
    const spawnArray = [];
    for (const [key, value] of Object.entries(parameters)) {
        // true booleans are flags, explicit false booleans follow regular key-value pattern
        if (typeof value === 'boolean' && value) {
            spawnArray.push(`--${key}`);
        }
        else if (value !== undefined && value !== null) {
            spawnArray.push(`--${key}`, value.toString());
        }
    }
    return spawnArray;
}
exports.getSpawnParameterArray = getSpawnParameterArray;
//# sourceMappingURL=parameters.js.map